# Сохранение аудио ролика в указанную директорию

Установка `xsel` и `youtube-dl` в Fedora. Для других дистрибутивов используйте иные пакетные менеджеры. Запуск от `root` (#) или `su`.
```
# dnf install xsel youtube-dl
```
Создание текстового документа в редакторе nano.
```
$ nano best_audio_dl
```
Содержание скрипта, вставить в файл `best_audio_dl`.
```
#!/usr/bin/env bash
url="$(xsel -o)"
youtube-dl --ignore-errors -f bestaudio --extract-audio --audio-quality 0 -o '~/YouTubeDL/Audio/%(playlist)s/%(playlist_index)s - %(title)s.%(ext)s' $url
```
Аудио файл лучшего качества будет загружаться в директорию `~/YouTubeDL/Audio/<название плейлиста>/<название файла>`.

Предоставляем полные права на чтение, модификацию и исполнение всем пользователям.
```
# chmod 777 ./best_audio_dl
```
Для вызова скрипта из любого контекста перемещаем его в директорию `/usr/bin`
```  
$ mv ./best_audio_dl /usr/bin
```
Для использования по хоткею указываем имя скрипта `best_audio_dl` в настройках горячих клавиш.

При нажатии установленного сочетания клавиш произойдет загрузка аудио файла в указанную директорию источник будет выбран тот, ссылка на который будет или выделена в момент нажатия хоткея или находиться в буфере обмена.

Т.к. используется youtube-dl - [https://github.com/rg3/youtube-dl](https://github.com/rg3/youtube-dl) список источников довольно широк, т.е. это не только youtube, как впрочем и список доступных опций.
